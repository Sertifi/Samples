public class SolicitudTriggerHandler {
    //Solicitud__c is the custom object
        public static void sendEContract(Map<Id,Solicitud__c> newMap, Map<Id,Solicitud__c> oldMap){
        Id eContractId ;
         
        Set<Id> solitudIds = new Set<Id>();
        for (Solicitud__c soltud : oldMap.values()){
            if (newMap.get(soltud.Id).Sertifi2_0__send_Sertifi_template_for_signature__c && (oldMap.get(soltud.Id).Sertifi2_0__send_Sertifi_template_for_signature__c != newMap.get(soltud.Id).Sertifi2_0__send_Sertifi_template_for_signature__c)){
                // Use any solicitud object relevant things               
		         solitudIds.add(soltud.Id);
		        //econtract is Sertifi2_0__TestContract__c object which you want to send to Sertifi Gateway API
                // Query EContract based on Solutud Id and Pass the First Record Id
                             
                //sendEContractToSertifi method makes web service calls, recommended documentation to read:
                // https://trailhead.salesforce.com/en/modules/asynchronous_apex/units/async_apex_future_methods
                    

            }
        }
        System.debug('The solitud Ids are '+solitudIds);
        List<Sertifi2_0__TestContract__c> allEContract = [Select Id, Sertifi2_0__Solicitud_lookup__c from Sertifi2_0__TestContract__c where Sertifi2_0__Solicitud_lookup__c in :solitudIds ];
        System.debug('The all Econtract size is '+allEContract.size());
        if (allEContract.size()>0){
            eContractId = allEContract[0].Id;
        }
        callSertifi(eContractId);
        
    }
      @future(callout=true)
        public static void callSertifi(Id econtractId){
        Sertifi2_0__SertifiSettings__c settings = Sertifi2_0__SertifiSettings__c.getValues('Settings');
        string results = Sertifi2_0.SertifiSFAPI.sendEContractToSertifi(eContractId, settings);
        System.debug('The result is  '+results);
    }

}